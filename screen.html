class PreFiltersScreen extends React.Component {
constructor(inProps) {
super(inProps);
this.state = { cuisine : "", price : "", rating : "", delivery : "" };
}
render() { return (
<ScrollView style={styles.preFiltersContainer}>
<View style={styles.preFiltersInnerContainer}>
<View style={styles.preFiltersScreenFormContainer}>
<View style={styles.preFiltersHeadlineContainer}>
<Text style={styles.preFiltersHeadline}>Pre- Filters</Text>
</View>
preFiltersInnerContainer : { flex : 1, alignItems : "center", paddingTop :
20, width : "100%" }
<Text style={styles.fieldLabel}>Cuisine</Text>
<View style={styles.pickerContainer}>
<Picker style={styles.picker} selectedValue={this.state.cuisine}
prompt="Cuisine"
onValueChange={ (inItemValue) => this.setState({ cuisine :
inItemValue }) } >
<Picker.Item label="" value="" />
<Picker.Item label="Algerian" value="Algerian" />
<Picker.Item label="American" value="American" />
...
<CustomButton text="Next" width="94%"
onPress={ () => {
AsyncStorage.getItem("restaurants",
function(inError, inRestaurants) {
if (inRestaurants === null) {
inRestaurants = [ ];
} else {
inRestaurants = JSON.parse(inRestaurants);
}
filteredRestaurants = [ ];
for (const restaurant of inRestaurants) {
let passTests = true;
if (this.state.cuisine !== "") {
if (Object.keys(this.state.cuisine).length > 0) {
if (restaurant.cuisine !== this.state.cuisine) {
passTests = false;
}
}
}
if (this.state.price !== "") {
if (restaurant.price > this.state.price) { passTests =
false; }
}
if (this.state.rating !== "") {
    if (restaurant.rating < this.state.rating) {
passTests = false; }
}
if (this.state.delivery !== "") {
if (restaurant.delivery !== this.state.delivery) {
passTests = false; }
}
if (this.state.cuisine.length === 0 && this.state.price
=== "" &&
this.state.rating === "" && this.state.delivery === "") {
passTests = true;
}
if (passTests) { filteredRestaurants.push(restaurant); }
}
if (filteredRestaurants.length === 0) {
Alert.alert("Well, that's an easy choice",
"None of your restaurants match these criteria. Maybe " +
"try loosening them up a bit?",
[ { text : "OK" } ], { cancelable : false }
);
} else {
this.props.navigation.navigate("ChoiceScreen");
}
}.bind(this)
);
} }
/>
</View>
</View>
</ScrollView>
); }